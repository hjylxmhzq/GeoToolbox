{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./electron/appFac.ts","webpack:///./electron/createWindow.ts","webpack:///./electron/ipc/index.ts","webpack:///./electron/ipc/ipcHandler.ts","webpack:///./electron/ipc/ipcMain.ts","webpack:///./electron/logger/index.js","webpack:///./electron/main.ts","webpack:///./electron/menu.js","webpack:///./electron/sqlite/SQL.ts","webpack:///./electron/sqlite/db.ts","webpack:///./electron/sqlite/index.ts","webpack:///./enums/globalEnum.ts","webpack:///external \"electron\"","webpack:///external \"fs\"","webpack:///external \"sqlite3\""],"names":[],"mappings":"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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./electron/main.ts\");\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar createWindow_1 = __importDefault(require(\"./createWindow\"));\nfunction appFac(app) {\n    app.on('ready', createWindow_1.default.bind(this, 'main', 'http://localhost:8080/index.html', '../dist/index.html'));\n    app.on('window-all-closed', function () {\n        if (process.platform !== 'darwin') {\n            app.quit();\n        }\n    });\n    app.on('activate', function () {\n        if (globalThis.wins.main === null) {\n            createWindow_1.default('main', 'http://localhost:8080/index.html', '../dist/index.html');\n        }\n    });\n}\nexports.default = appFac;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar electron_2 = require(\"electron\");\nfunction createWindow(windowName, url, path) {\n    var wins = globalThis.wins;\n    wins[windowName] = new electron_2.BrowserWindow({\n        width: 800,\n        height: 600,\n        webPreferences: {\n            nodeIntegration: true\n        }\n    });\n    if (process.env.NODE_ENV.includes('dev')) {\n        wins.main.loadURL(url);\n    }\n    else {\n        wins.main.loadFile(path);\n    }\n    wins[windowName].on('closed', function () {\n        wins[windowName] = null;\n    });\n    return wins[windowName];\n}\nexports.default = createWindow;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ipcMain_1 = __importDefault(require(\"./ipcMain\"));\nexports.default = ipcMain_1.default;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar electron_3 = require(\"electron\");\nvar sqlite_2 = __importDefault(require(\"../sqlite\"));\nvar fs_1 = __importDefault(require(\"fs\"));\nvar globalEnum_1 = require(\"../../enums/globalEnum\");\nvar createWindow_2 = __importDefault(require(\"../createWindow\"));\nfunction addOpenFileHandler(ipcMain) {\n    ipcMain.on(globalEnum_1.IpcInterface.OPEN_FILE, function (event) {\n        var files = electron_3.dialog.showOpenDialogSync({\n            properties: ['openFile', 'openDirectory']\n        });\n        if (files) {\n            var promises = [];\n            for (var _i = 0, files_1 = files; _i < files_1.length; _i++) {\n                var file = files_1[_i];\n                promises.push(sqlite_2.default.addFile(file, encodeURIComponent(fs_1.default.readFileSync(file, { encoding: 'utf-8' }))));\n            }\n            Promise.all(promises).then(function () {\n                event.sender.send(globalEnum_1.IpcInterface.OPEN_FILE_RESPONSE, true);\n            });\n        }\n        else {\n            event.sender.send(globalEnum_1.IpcInterface.OPEN_FILE_RESPONSE, true);\n        }\n    });\n}\nfunction addGetFileHandler(ipcMain) {\n    ipcMain.on(globalEnum_1.IpcInterface.GET_FILE, function (event, path) {\n        fs_1.default.readFile(path, function (err, fileContent) {\n            if (err) {\n                event.sender.send(globalEnum_1.IpcInterface.GET_FILE_RESPONSE, fileContent.toString('utf-8'));\n            }\n            else {\n                event.sender.send(globalEnum_1.IpcInterface.GET_FILE_RESPONSE, '');\n            }\n        });\n    });\n}\nfunction addGetFilesListHandler(ipcMain) {\n    ipcMain.on(globalEnum_1.IpcInterface.GET_FILESLIST, function (event) {\n        console.log('get-fileslist recieved');\n        sqlite_2.default.getFilesList().then(function (filesList) {\n            event.sender.send(globalEnum_1.IpcInterface.GET_FILESLIST_RESPONSE, filesList && filesList.length ? filesList : []);\n        });\n    });\n}\nfunction addOpenFileEditorHandler(ipcMain) {\n    ipcMain.on(globalEnum_1.IpcInterface.OPEN_FILE_EDITOR, function (event, filePath) {\n        console.log('open file editor');\n        if (globalThis.wins.fileEditor) {\n            globalThis.wins.fileEditor.webContents.send(globalEnum_1.IpcInterface.GET_FILE, filePath);\n        }\n        else {\n            var win_1 = createWindow_2.default('fileEditor', 'http://localhost:8080/fileEditor.html', '../dist/fileEditor.html');\n            win_1.webContents.on('did-finish-load', function () {\n                win_1.webContents.send(globalEnum_1.IpcInterface.GET_FILE, filePath);\n            });\n        }\n    });\n}\nexports.default = [\n    addOpenFileHandler,\n    addGetFilesListHandler,\n    addGetFileHandler,\n    addOpenFileEditorHandler,\n];\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ipcHandler_1 = __importDefault(require(\"./ipcHandler\"));\nfunction addIpcListeners(ipcMain) {\n    for (var _i = 0, ipcHandlers_1 = ipcHandler_1.default; _i < ipcHandlers_1.length; _i++) {\n        var ipcHandler = ipcHandlers_1[_i];\n        ipcHandler(ipcMain);\n    }\n}\nexports.default = addIpcListeners;\n","class Logger {\n  error(...msg) {\n    console.error(...msg);\n  }\n  info(...msg) {\n    console.info(...msg);\n  }\n}\n\nconst logger = new Logger();\n\nmodule.exports = logger;","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar electron_1 = require(\"electron\");\nvar appFac_1 = __importDefault(require(\"./appFac\"));\nvar menu_1 = __importDefault(require(\"./menu\"));\nvar ipc_1 = __importDefault(require(\"./ipc\"));\nvar sqlite_1 = __importDefault(require(\"./sqlite\"));\nvar logger_1 = __importDefault(require(\"./logger\"));\nglobalThis.wins = {\n    main: null,\n};\nglobalThis.isDBReady = false;\nsqlite_1.default.initDB().then(function () {\n    logger_1.default.info('database init');\n    globalThis.isDBReady = true;\n}, function (e) {\n    logger_1.default.error(e);\n});\nappFac_1.default(electron_1.app);\nmenu_1.default();\nipc_1.default(electron_1.ipcMain);\n","import { Menu } from 'electron';\n\nlet template = [{\n    label: '编辑',\n    submenu: [{\n        label: '撤销',\n        accelerator: 'CmdOrCtrl+Z',\n        role: 'undo'\n    }, {\n        label: '重做',\n        accelerator: 'Shift+CmdOrCtrl+Z',\n        role: 'redo'\n    }, {\n        type: 'separator'\n    }, {\n        label: '剪切',\n        accelerator: 'CmdOrCtrl+X',\n        role: 'cut'\n    }, {\n        label: '复制',\n        accelerator: 'CmdOrCtrl+C',\n        role: 'copy'\n    }, {\n        label: '粘贴',\n        accelerator: 'CmdOrCtrl+V',\n        role: 'paste'\n    }, {\n        label: '全选',\n        accelerator: 'CmdOrCtrl+A',\n        role: 'selectall'\n    }]\n}, {\n    label: 'dev',\n    submenu: [{\n        label: '重载',\n        accelerator: 'CmdOrCtrl+R',\n        click: function (item, focusedWindow) {\n            if (focusedWindow) {\n                focusedWindow.reload()\n            }\n        }\n    }, {\n        label: '切换全屏',\n        accelerator: (function () {\n            if (process.platform === 'darwin') {\n                return 'Ctrl+Command+F'\n            } else {\n                return 'F11'\n            }\n        })(),\n        click: function (item, focusedWindow) {\n            if (focusedWindow) {\n                focusedWindow.setFullScreen(!focusedWindow.isFullScreen())\n            }\n        }\n    }, {\n        label: '切换开发者工具',\n        accelerator: (function () {\n            if (process.platform === 'darwin') {\n                return 'Shift+Command+I'\n            } else {\n                return 'Ctrl+Shift+I'\n            }\n        })(),\n        click: function (item, focusedWindow) {\n            if (focusedWindow) {\n                focusedWindow.toggleDevTools()\n            }\n        }\n    }]\n}, {\n    label: '窗口',\n    role: 'window',\n    submenu: [{\n        label: '最小化',\n        accelerator: 'CmdOrCtrl+M',\n        role: 'minimize'\n    }, {\n        label: '关闭',\n        accelerator: 'CmdOrCtrl+W',\n        role: 'close'\n    }, {\n        type: 'separator'\n    }]\n}]\n\nfunction initMenu() {\n    if (process.env.NODE_ENV.includes('pro')) {\n        template = template.filter(item => {\n            if (item.label === 'dev') {\n                return false;\n            }\n            return true;\n        })\n    }\n    const menu = Menu.buildFromTemplate(template)\n    Menu.setApplicationMenu(menu)\n}\n\nexport default initMenu;","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar SQL = {\n    createFileTable: function () { return \"CREATE TABLE files (\\n    FILEPATH TEXT NOT NULL,\\n    FILECONTENT TEXT NOT NULL,\\n    FILEID TEXT INT NULL\\n    );\"; },\n    deleteFileTable: function () { return \"DROP TABLE files;\"; },\n    addFile: function (filePath, fileContent, fileId) {\n        return \"INSERT INTO files (FILEPATH,FILECONTENT,FILEID)\\nVALUES ('\" + filePath + \"', '\" + fileContent + \"', \" + fileId + \");\";\n    },\n    getFilesList: function () {\n        return \"SELECT FILEPATH, FILEID FROM files;\";\n    }\n};\nexports.default = SQL;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar sqlite3_1 = require(\"sqlite3\");\nvar SQL_1 = __importDefault(require(\"./SQL\"));\nvar logger_2 = __importDefault(require(\"../logger\"));\nvar sqlite3 = sqlite3_1.verbose();\nglobal.db = new sqlite3.Database('geo.db', function (e) {\n    if (e)\n        throw e;\n});\nvar fileId = 0;\nvar db = global.db;\nfunction initDB() {\n    return new Promise(function (resolve, reject) {\n        db.run(SQL_1.default.deleteFileTable(), function (e) {\n            if (e === null) {\n                logger_2.default.info('delete existed files table in DB');\n                db.run(SQL_1.default.createFileTable(), function (e) {\n                    if (e === null) {\n                        resolve();\n                    }\n                    else {\n                        reject(e);\n                    }\n                });\n            }\n            else {\n                logger_2.default.error(e);\n                db.run(SQL_1.default.createFileTable(), function (e) {\n                    if (e === null) {\n                        resolve();\n                    }\n                    else {\n                        reject(e);\n                    }\n                });\n            }\n        });\n    });\n}\nfunction addFile(filePath, fileContent) {\n    var sql = SQL_1.default.addFile(filePath, 'fileContent', fileId);\n    logger_2.default.info(sql);\n    return new Promise(function (resolve, reject) {\n        db.run(sql, function (e) {\n            if (e === null) {\n                resolve(fileId++);\n            }\n            else {\n                reject(e);\n            }\n        });\n    });\n}\nfunction getFilesList() {\n    return new Promise(function (resolve, reject) {\n        db.all(SQL_1.default.getFilesList(), function (err, values) {\n            !err && resolve(values);\n            if (err) {\n                logger_2.default.error(err);\n            }\n        });\n    });\n}\nexports.default = {\n    initDB: initDB,\n    addFile: addFile,\n    getFilesList: getFilesList,\n};\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar db_1 = __importDefault(require(\"./db\"));\nexports.default = db_1.default;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar IpcInterface = {\n    GET_FILE: 'get-file',\n    GET_FILE_RESPONSE: 'get-file-response',\n    GET_FILESLIST: 'get-fileslist',\n    GET_FILESLIST_RESPONSE: 'get-fileslist-response',\n    OPEN_FILE: 'open-file',\n    OPEN_FILE_RESPONSE: 'open-file-response',\n    OPEN_FILE_EDITOR: 'open-file-editor',\n    OPEN_FIlE_EDITOR_RESPONSE: 'open-file-editor-response',\n    RELOAD_FILE: 'reload-file',\n    RELOAD_FILE_RESPONSE: 'reload-file-response',\n    GET_FILE_CONTENT: 'get-file-content',\n    GET_FILE_CONTENT_RESPONSE: 'get-file-content-response',\n};\nexports.IpcInterface = IpcInterface;\n","module.exports = require(\"electron\");","module.exports = require(\"fs\");","module.exports = require(\"sqlite3\");"],"sourceRoot":""}